import requests
import urllib3
import warnings

warnings.filterwarnings("ignore", category=urllib3.exceptions.InsecureRequestWarning)

with open("ips.txt", "r") as file:
    ips = file.readlines()

with open("curloutput.txt", "w") as outfile:
    for ip in ips:
        try:
            response = requests.get("https://" + ip.strip(), verify=False, timeout=5)
            outfile.write(response.text)
        except requests.exceptions.Timeout as e:
            with open("error.log", "a") as error_file:
                error_file.write(f"An error occurred for IP: {ip.strip()}, Error: {e}\n")
        except Exception as e:
            print(f"An error occurred for IP: {ip.strip()}, Error: {e}")
